
{% extends 'warden/warden_base.html' %}
{% load static %}
{% block content %}
    {% if message %}
<script>
alert("{{ message }}")
</script>
{% endif %}
  <!--/ Intro Single star /-->
  <section class="intro-single">
    <div class="container">
      <div class="row">
        <div class="col-md-12 col-lg-8">
          <div class="title-single-box">
            <h1 class="title-single">PAROLE REQUEST</h1>
{#            <span class="color-text-a">Aut voluptas consequatur unde sed omnis ex placeat quis eos. Aut natus officia corrupti qui autem fugit consectetur quo. Et ipsum eveniet laboriosam voluptas beatae possimus qui ducimus. Et voluptatem deleniti. Voluptatum voluptatibus amet. Et esse sed omnis inventore hic culpa.</span>#}
          </div>
        </div>

      </div>
    </div>
  </section>
  <!--/ Intro Single End /-->

  <!--/ Contact Star /-->
  <section class="contact">
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <div class="contact-map box">
{#            <div id="map" class="contact-map">#}
{#              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.1422937950147!2d-73.98731968482413!3d40.75889497932681!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c25855c6480299%3A0x55194ec5a1ae072e!2sTimes+Square!5e0!3m2!1ses-419!2sve!4v1510329142834"#}
{#                width="100%" height="450" frameborder="0" style="border:0" allowfullscreen></iframe>#}
{#            </div>#}
          </div>
        </div>
        <div class="col-sm-12 section-t8">
          <div class="row">
            <div class="col-md-7">
              <div style=" border-radius: 5px;
  background-color: #f2f2f2;
  padding: 20px;">
   <form method="post" action=""  enctype="multipart/form-data">
       {% csrf_token %}
     <label for="cars">Number</label>
  <select style="width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;" name="number" id="prisonNo">
      {% for a in request %}
    <option value="{{ a.number }}">{{ a.number }}</option>
      {% endfor %}
  </select>


  <label for="cars">Name</label>
  <select style="width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;" name="name" id="prisonerNumber">
 {% for k in request %}
    <option value="{{ k.number }}">{{ k.name }}</option>
      {% endfor %}
  </select>
       <label for="lname">Request Date</label>
    <input type="date" id="lname" name="date" style="width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;" placeholder="Request date..">
       <label for="lname">Release Reson</label>
    <input type="text" id="lname" name="release_reason" style="width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;" placeholder="Release reson.." required>

       <label for="lname">Parole Period</label>
    <input type="text" id="lname" name="parole_period" style="width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;" placeholder="Parole period.." required>


   <input type="hidden" value="{{ prisoner.id }}" name="{{ prisoner.id }}">

    <input type="submit" style="width: 100%;background-color: #4CAF50;color: white;padding: 14px 20px;margin: 8px 0;border: none;border-radius: 4px;cursor: pointer;" value="Submit">
  </form>
</div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </section>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script>
$('#prisonNo').on('change', function() {
  alert( this.value );
    myFunction(this.value);
});
  function myFunction (idx){
   // let selectionHtml ="";

     {% for dri in request  %}
          var pId = {{ dri.number}};
             console.log(pId);
             console.log(idx);
            // selectionHtml += "<option value='{{ j.id }}'>{{ j.name }}</option>";
             if( pId == idx){
                 console.log("here");
                 document.getElementById('prisonerNumber').value=idx;
              //  selectionHtml += "<option selected value='{{ j.id }}'>{{ j.name }}</option>";
             }
      {% endfor %}


  //document.getElementById('nam').innerHTML = selectionHtml;
}
  </script>

{% endblock %}
  <!--/ Contact End /-->

  <!--/ footer Star /-->
